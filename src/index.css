@import "tailwindcss";

/*
 * Dynamic Theme System
 * Theme colors are set via CSS custom properties.
 * ThemeContext updates --theme-* variables from the database.
 * We use @theme to register colors with initial values, then override via :root.
 */

/* Register theme colors with Tailwind - these get overridden by :root below */
@theme {
  /* Font family */
  --font-sans: 'Poppins', ui-sans-serif, system-ui, sans-serif;

  /* Colors */
  --color-background: #0a0a0b;
  --color-foreground: #fafafa;
  --color-card: #141416;
  --color-card-foreground: #fafafa;
  --color-popover: #141416;
  --color-popover-foreground: #fafafa;
  --color-primary: #53fc18;
  --color-primary-foreground: #0a0a0b;
  --color-secondary: #1f1f23;
  --color-secondary-foreground: #fafafa;
  --color-muted: #27272a;
  --color-muted-foreground: #a1a1aa;
  --color-accent: #1f1f23;
  --color-accent-foreground: #fafafa;
  --color-destructive: #7f1d1d;
  --color-destructive-foreground: #f8fafc;
  --color-border: #27272a;
  --color-input: #27272a;
  --color-ring: #fafafa;
  --color-brand: #53fc18;
  --color-brand-foreground: #ffffff;
  --color-kick: #53fc18;
  --color-warning: #f59e0b;
  --color-success: #22c55e;
  --radius-lg: 0.75rem;
  --radius-md: 0.5rem;
  --radius-sm: 0.25rem;
}

/* Runtime CSS variables - ThemeContext updates these from the database */
:root {
  --theme-background: #0a0a0b;
  --theme-foreground: #fafafa;
  --theme-card: #141416;
  --theme-card-foreground: #fafafa;
  --theme-popover: #141416;
  --theme-popover-foreground: #fafafa;
  --theme-primary: #53fc18;
  --theme-primary-foreground: #0a0a0b;
  --theme-secondary: #1f1f23;
  --theme-secondary-foreground: #fafafa;
  --theme-muted: #27272a;
  --theme-muted-foreground: #a1a1aa;
  --theme-accent: #1f1f23;
  --theme-accent-foreground: #fafafa;
  --theme-destructive: #7f1d1d;
  --theme-destructive-foreground: #f8fafc;
  --theme-border: #27272a;
  --theme-input: #27272a;
  --theme-ring: #fafafa;
  --theme-brand: #53fc18;
  --theme-brand-foreground: #ffffff;
  --theme-radius: 0.75rem;

  /* Map Tailwind color vars to theme vars */
  --color-background: var(--theme-background);
  --color-foreground: var(--theme-foreground);
  --color-card: var(--theme-card);
  --color-card-foreground: var(--theme-card-foreground);
  --color-popover: var(--theme-popover);
  --color-popover-foreground: var(--theme-popover-foreground);
  --color-primary: var(--theme-primary);
  --color-primary-foreground: var(--theme-primary-foreground);
  --color-secondary: var(--theme-secondary);
  --color-secondary-foreground: var(--theme-secondary-foreground);
  --color-muted: var(--theme-muted);
  --color-muted-foreground: var(--theme-muted-foreground);
  --color-accent: var(--theme-accent);
  --color-accent-foreground: var(--theme-accent-foreground);
  --color-destructive: var(--theme-destructive);
  --color-destructive-foreground: var(--theme-destructive-foreground);
  --color-border: var(--theme-border);
  --color-input: var(--theme-input);
  --color-ring: var(--theme-ring);
  --color-brand: var(--theme-brand);
  --color-brand-foreground: var(--theme-brand-foreground);
  --color-kick: var(--theme-brand);
}

/* Dark mode overrides - values are now set dynamically by ThemeContext from database */
/* The .dark class is added by ThemeContext when dark mode is active */

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
  font-family: 'Poppins', ui-sans-serif, system-ui, sans-serif;
}

html {
  font-family: 'Poppins', ui-sans-serif, system-ui, sans-serif;
}

/*
 * Explicit utility class overrides for theme colors
 * Tailwind v4's @theme compiles colors at build time, so we need runtime overrides
 */
@layer utilities {
  /* Background colors */
  .bg-background { background-color: var(--color-background) !important; }
  .bg-foreground { background-color: var(--color-foreground) !important; }
  .bg-card { background-color: var(--color-card) !important; }
  .bg-popover { background-color: var(--color-popover) !important; }
  .bg-primary { background-color: var(--color-primary) !important; }
  .bg-secondary { background-color: var(--color-secondary) !important; }
  .bg-muted { background-color: var(--color-muted) !important; }
  .bg-accent { background-color: var(--color-accent) !important; }
  .bg-destructive { background-color: var(--color-destructive) !important; }
  .bg-kick { background-color: var(--color-kick) !important; }
  .bg-brand { background-color: var(--color-brand) !important; }

  /* Background colors with opacity */
  .bg-card\/50 { background-color: color-mix(in srgb, var(--color-card) 50%, transparent) !important; }
  .bg-card\/80 { background-color: color-mix(in srgb, var(--color-card) 80%, transparent) !important; }
  .bg-secondary\/50 { background-color: color-mix(in srgb, var(--color-secondary) 50%, transparent) !important; }
  .bg-secondary\/70 { background-color: color-mix(in srgb, var(--color-secondary) 70%, transparent) !important; }
  .bg-primary\/10 { background-color: color-mix(in srgb, var(--color-primary) 10%, transparent) !important; }
  .bg-primary\/20 { background-color: color-mix(in srgb, var(--color-primary) 20%, transparent) !important; }
  .bg-accent\/10 { background-color: color-mix(in srgb, var(--color-accent) 10%, transparent) !important; }
  .bg-accent\/20 { background-color: color-mix(in srgb, var(--color-accent) 20%, transparent) !important; }
  .bg-accent\/30 { background-color: color-mix(in srgb, var(--color-accent) 30%, transparent) !important; }
  .bg-destructive\/10 { background-color: color-mix(in srgb, var(--color-destructive) 10%, transparent) !important; }
  .bg-destructive\/20 { background-color: color-mix(in srgb, var(--color-destructive) 20%, transparent) !important; }
  .bg-background\/80 { background-color: color-mix(in srgb, var(--color-background) 80%, transparent) !important; }
  .bg-muted\/50 { background-color: color-mix(in srgb, var(--color-muted) 50%, transparent) !important; }
  .bg-kick\/90 { background-color: color-mix(in srgb, var(--color-kick) 90%, transparent) !important; }
  .hover\:bg-kick\/90:hover { background-color: color-mix(in srgb, var(--color-kick) 90%, transparent) !important; }

  /* Text colors */
  .text-foreground { color: var(--color-foreground) !important; }
  .text-background { color: var(--color-background) !important; }
  .text-card-foreground { color: var(--color-card-foreground) !important; }
  .text-popover-foreground { color: var(--color-popover-foreground) !important; }
  .text-primary { color: var(--color-primary) !important; }
  .text-primary-foreground { color: var(--color-primary-foreground) !important; }
  .text-secondary-foreground { color: var(--color-secondary-foreground) !important; }
  .text-muted-foreground { color: var(--color-muted-foreground) !important; }
  .text-accent-foreground { color: var(--color-accent-foreground) !important; }
  .text-destructive { color: var(--color-destructive) !important; }
  .text-destructive-foreground { color: var(--color-destructive-foreground) !important; }
  .text-warning { color: var(--color-warning) !important; }
  .text-kick { color: var(--color-kick) !important; }

  /* Border colors */
  .border-border { border-color: var(--color-border) !important; }
  .border-input { border-color: var(--color-input) !important; }
  .border-primary { border-color: var(--color-primary) !important; }
  .border-destructive { border-color: var(--color-destructive) !important; }
  .border-border\/50 { border-color: color-mix(in srgb, var(--color-border) 50%, transparent) !important; }
  .border-primary\/30 { border-color: color-mix(in srgb, var(--color-primary) 30%, transparent) !important; }
  .border-primary\/50 { border-color: color-mix(in srgb, var(--color-primary) 50%, transparent) !important; }

  /* Ring colors */
  .ring-ring { --tw-ring-color: var(--color-ring) !important; }
  .ring-primary { --tw-ring-color: var(--color-primary) !important; }
}

/*
 * Shadow utility classes - apply explicitly to surfaces that need shadows
 * Use these on cards, panels, and elevated surfaces - not on headers or internal elements
 */
@layer utilities {
  /* Surface shadows - for cards and elevated containers */
  .surface-shadow {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
  }
  .surface-shadow-md {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.25), 0 2px 4px rgba(0, 0, 0, 0.15);
  }
  .surface-shadow-lg {
    box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2), 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  /* Hover variants */
  .surface-shadow-hover:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.35), 0 2px 4px rgba(0, 0, 0, 0.25);
  }
  .surface-shadow-md-hover:hover {
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.3), 0 3px 6px rgba(0, 0, 0, 0.2);
  }

  /* No shadow - explicitly remove shadow from elements */
  .no-shadow {
    box-shadow: none !important;
  }
}

/* Ensure proper text colors in dark mode */
.dark {
  color-scheme: dark;
}

.dark body,
.dark #root {
  color: var(--color-foreground);
}

/* Overlay-specific styles - transparent background for OBS */
.overlay-container {
  background: transparent !important;
}

/* Explicit responsive nav rules for Tailwind 4 compatibility */
.desktop-nav {
  display: none;
}

.mobile-nav-toggle {
  display: flex;
}

@media (min-width: 768px) {
  .desktop-nav {
    display: flex;
  }

  .mobile-nav-toggle {
    display: none;
  }

  .mobile-nav-dropdown {
    display: none !important;
  }
}
